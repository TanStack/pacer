---
id: AsyncDebouncer
title: AsyncDebouncer
---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Class: AsyncDebouncer\<TFn\>

Defined in: [async-debouncer.ts:188](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L188)

A class that creates an async debounced function.

Debouncing ensures that a function is only executed after a specified delay has passed since its last invocation.
Each new invocation resets the delay timer. This is useful for handling frequent events like window resizing
or input changes where you only want to execute the handler after the events have stopped occurring.

Unlike throttling which allows execution at regular intervals, debouncing prevents any execution until
the function stops being called for the specified delay period.

Unlike the non-async Debouncer, this async version supports returning values from the debounced function,
making it ideal for API calls and other async operations where you want the result of the `maybeExecute` call
instead of setting the result on a state variable from within the debounced function.

Error Handling:
- If an `onError` handler is provided, it will be called with the error and debouncer instance
- If `throwOnError` is true (default when no onError handler is provided), the error will be thrown
- If `throwOnError` is false (default when onError handler is provided), the error will be swallowed
- Both onError and throwOnError can be used together - the handler will be called before any error is thrown
- The error state can be checked using the underlying store

State Management:
- The debouncer uses a reactive store for state management
- Use `initialState` to provide initial state values when creating the async debouncer
- The state includes canLeadingExecute, error count, execution status, and success/settle counts
- State can be accessed via the `store` property and its `state` getter
- The store is reactive and will notify subscribers of state changes

## Example

```ts
const asyncDebouncer = new AsyncDebouncer(async (value: string) => {
  const results = await searchAPI(value);
  return results; // Return value is preserved
}, {
  wait: 500,
  onError: (error) => {
    console.error('Search failed:', error);
  }
});

// Called on each keystroke but only executes after 500ms of no typing
// Returns the API response directly
const results = await asyncDebouncer.maybeExecute(inputElement.value);
```

## Type Parameters

â€¢ **TFn** *extends* [`AnyAsyncFunction`](../../type-aliases/anyasyncfunction.md)

## Constructors

### new AsyncDebouncer()

```ts
new AsyncDebouncer<TFn>(fn, initialOptions): AsyncDebouncer<TFn>
```

Defined in: [async-debouncer.ts:200](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L200)

#### Parameters

##### fn

`TFn`

##### initialOptions

[`AsyncDebouncerOptions`](../../interfaces/asyncdebounceroptions.md)\<`TFn`\>

#### Returns

[`AsyncDebouncer`](../asyncdebouncer.md)\<`TFn`\>

## Properties

### fn

```ts
fn: TFn;
```

Defined in: [async-debouncer.ts:201](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L201)

***

### key

```ts
key: string;
```

Defined in: [async-debouncer.ts:192](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L192)

***

### options

```ts
options: AsyncDebouncerOptions<TFn>;
```

Defined in: [async-debouncer.ts:193](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L193)

***

### store

```ts
readonly store: Store<Readonly<AsyncDebouncerState<TFn>>>;
```

Defined in: [async-debouncer.ts:189](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L189)

## Methods

### cancel()

```ts
cancel(): void
```

Defined in: [async-debouncer.ts:410](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L410)

Cancels any pending execution or aborts any execution in progress

#### Returns

`void`

***

### flush()

```ts
flush(): Promise<undefined | ReturnType<TFn>>
```

Defined in: [async-debouncer.ts:362](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L362)

Processes the current pending execution immediately

#### Returns

`Promise`\<`undefined` \| `ReturnType`\<`TFn`\>\>

***

### maybeExecute()

```ts
maybeExecute(...args): Promise<undefined | ReturnType<TFn>>
```

Defined in: [async-debouncer.ts:282](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L282)

Attempts to execute the debounced function.
If a call is already in progress, it will be queued.

Error Handling:
- If the debounced function throws and no `onError` handler is configured,
  the error will be thrown from this method.
- If an `onError` handler is configured, errors will be caught and passed to the handler,
  and this method will return undefined.
- The error state can be checked using `getErrorCount()` and `getIsExecuting()`.

#### Parameters

##### args

...`Parameters`\<`TFn`\>

#### Returns

`Promise`\<`undefined` \| `ReturnType`\<`TFn`\>\>

A promise that resolves with the function's return value, or undefined if an error occurred and was handled by onError

#### Throws

The error from the debounced function if no onError handler is configured

***

### reset()

```ts
reset(): void
```

Defined in: [async-debouncer.ts:419](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L419)

Resets the debouncer state to its default values

#### Returns

`void`

***

### setOptions()

```ts
setOptions(newOptions): void
```

Defined in: [async-debouncer.ts:222](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-debouncer.ts#L222)

Updates the async debouncer options

#### Parameters

##### newOptions

`Partial`\<[`AsyncDebouncerOptions`](../../interfaces/asyncdebounceroptions.md)\<`TFn`\>\>

#### Returns

`void`
