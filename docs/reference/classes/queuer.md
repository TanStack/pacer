---
id: Queuer
title: Queuer
---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Class: Queuer\<TValue\>

Defined in: [queuer.ts:160](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L160)

A flexible queue that processes items with configurable wait times, expiration, and priority.

Features:
- Automatic or manual processing of items
- FIFO (First In First Out), LIFO (Last In First Out), or double-ended queue behavior
- Priority-based ordering when getPriority is provided
- Item expiration and removal of stale items
- Callbacks for queue state changes, execution, rejection, and expiration

Running behavior:
- `start()`: Begins automatically processing items in the queue (defaults to running)
- `stop()`: Pauses processing but maintains queue state
- `wait`: Configurable delay between processing items
- `onItemsChange`/`onExecute`: Callbacks for monitoring queue state

Manual processing is also supported when automatic processing is disabled:
- `execute()`: Processes the next item using the provided function
- `getNextItem()`: Removes and returns the next item without processing

Queue behavior defaults to FIFO:
- `addItem(item)`: Adds to the back of the queue
- Items processed from the front of the queue

Priority queue:
- Provide a `getPriority` function; higher values are processed first

Stack (LIFO):
- `addItem(item, 'back')`: Adds to the back
- `getNextItem('back')`: Removes from the back

Double-ended queue:
- `addItem(item, position)`: Adds to specified position ('front'/'back')
- `getNextItem(position)`: Removes from specified position

Item expiration:
- `expirationDuration`: Maximum time items can stay in the queue
- `getIsExpired`: Function to override default expiration
- `onExpire`: Callback for expired items

Example usage:
```ts
// Auto-processing queue with wait time
const autoQueue = new Queuer<number>((n) => console.log(n), {
  started: true, // Begin processing immediately
  wait: 1000, // Wait 1s between items
  onExecute: (item) => console.log(`Processed ${item}`)
});
autoQueue.addItem(1); // Will process after 1s
autoQueue.addItem(2); // Will process 1s after first item

// Manual processing queue
const manualQueue = new Queuer<number>((n) => console.log(n), {
  started: false
});
manualQueue.addItem(1); // [1]
manualQueue.addItem(2); // [1, 2]
manualQueue.execute(); // logs 1, queue is [2]
manualQueue.getNextItem(); // returns 2, queue is empty
```

## Type Parameters

â€¢ **TValue**

## Constructors

### new Queuer()

```ts
new Queuer<TValue>(fn, initialOptions): Queuer<TValue>
```

Defined in: [queuer.ts:171](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L171)

#### Parameters

##### fn

(`item`) => `void`

##### initialOptions

[`QueuerOptions`](../../interfaces/queueroptions.md)\<`TValue`\> = `{}`

#### Returns

[`Queuer`](../queuer.md)\<`TValue`\>

## Methods

### addItem()

```ts
addItem(
   item, 
   position, 
   runOnUpdate): boolean
```

Defined in: [queuer.ts:343](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L343)

Adds an item to the queue. If the queue is full, the item is rejected and onReject is called.
Items can be inserted based on priority or at the front/back depending on configuration.

Returns true if the item was added, false if the queue is full.

Example usage:
```ts
queuer.addItem('task');
queuer.addItem('task2', 'front');
```

#### Parameters

##### item

`TValue`

##### position

[`QueuePosition`](../../type-aliases/queueposition.md) = `...`

##### runOnUpdate

`boolean` = `true`

#### Returns

`boolean`

***

### clear()

```ts
clear(): void
```

Defined in: [queuer.ts:313](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L313)

Removes all pending items from the queue. Does not affect items being processed.

#### Returns

`void`

***

### execute()

```ts
execute(position?): undefined | TValue
```

Defined in: [queuer.ts:431](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L431)

Removes and returns the next item from the queue and processes it using the provided function.

Example usage:
```ts
queuer.execute();
// LIFO
queuer.execute('back');
```

#### Parameters

##### position?

[`QueuePosition`](../../type-aliases/queueposition.md)

#### Returns

`undefined` \| `TValue`

***

### getAllItems()

```ts
getAllItems(): TValue[]
```

Defined in: [queuer.ts:483](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L483)

Returns a copy of all items in the queue.

#### Returns

`TValue`[]

***

### getExecutionCount()

```ts
getExecutionCount(): number
```

Defined in: [queuer.ts:490](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L490)

Returns the number of items that have been processed and removed from the queue.

#### Returns

`number`

***

### getExpirationCount()

```ts
getExpirationCount(): number
```

Defined in: [queuer.ts:504](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L504)

Returns the number of items that have expired and been removed from the queue.

#### Returns

`number`

***

### getIsEmpty()

```ts
getIsEmpty(): boolean
```

Defined in: [queuer.ts:462](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L462)

Returns true if the queue is empty (no pending items).

#### Returns

`boolean`

***

### getIsFull()

```ts
getIsFull(): boolean
```

Defined in: [queuer.ts:469](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L469)

Returns true if the queue is full (reached maxSize).

#### Returns

`boolean`

***

### getIsIdle()

```ts
getIsIdle(): boolean
```

Defined in: [queuer.ts:518](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L518)

Returns true if the queuer is running but has no items to process.

#### Returns

`boolean`

***

### getIsRunning()

```ts
getIsRunning(): boolean
```

Defined in: [queuer.ts:511](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L511)

Returns true if the queuer is currently running (processing items).

#### Returns

`boolean`

***

### getNextItem()

```ts
getNextItem(position): undefined | TValue
```

Defined in: [queuer.ts:401](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L401)

Removes and returns the next item from the queue without executing the function.
Use for manual queue management. Normally, use execute() to process items.

Example usage:
```ts
// FIFO
queuer.getNextItem();
// LIFO
queuer.getNextItem('back');
```

#### Parameters

##### position

[`QueuePosition`](../../type-aliases/queueposition.md) = `...`

#### Returns

`undefined` \| `TValue`

***

### getOptions()

```ts
getOptions(): Required<QueuerOptions<TValue>>
```

Defined in: [queuer.ts:195](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L195)

Returns the current queuer options, including defaults and any overrides.

#### Returns

`Required`\<[`QueuerOptions`](../../interfaces/queueroptions.md)\<`TValue`\>\>

***

### getPeek()

```ts
getPeek(position): undefined | TValue
```

Defined in: [queuer.ts:450](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L450)

Returns the next item in the queue without removing it.

Example usage:
```ts
queuer.getPeek(); // front
queuer.getPeek('back'); // back
```

#### Parameters

##### position

[`QueuePosition`](../../type-aliases/queueposition.md) = `...`

#### Returns

`undefined` \| `TValue`

***

### getRejectionCount()

```ts
getRejectionCount(): number
```

Defined in: [queuer.ts:497](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L497)

Returns the number of items that have been rejected from being added to the queue.

#### Returns

`number`

***

### getSize()

```ts
getSize(): number
```

Defined in: [queuer.ts:476](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L476)

Returns the number of pending items in the queue.

#### Returns

`number`

***

### getWait()

```ts
getWait(): number
```

Defined in: [queuer.ts:203](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L203)

Returns the current wait time (in milliseconds) between processing items.
If a function is provided, it is called with the queuer instance.

#### Returns

`number`

***

### reset()

```ts
reset(withInitialItems?): void
```

Defined in: [queuer.ts:322](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L322)

Resets the queuer to its initial state. Optionally repopulates with initial items.
Does not affect callbacks or options.

#### Parameters

##### withInitialItems?

`boolean`

#### Returns

`void`

***

### setOptions()

```ts
setOptions(newOptions): void
```

Defined in: [queuer.ts:188](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L188)

Updates the queuer options. New options are merged with existing options.

#### Parameters

##### newOptions

`Partial`\<[`QueuerOptions`](../../interfaces/queueroptions.md)\<`TValue`\>\>

#### Returns

`void`

***

### start()

```ts
start(): void
```

Defined in: [queuer.ts:301](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L301)

Starts processing items in the queue. If already running, does nothing.

#### Returns

`void`

***

### stop()

```ts
stop(): void
```

Defined in: [queuer.ts:292](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/queuer.ts#L292)

Stops processing items in the queue. Does not clear the queue.

#### Returns

`void`
