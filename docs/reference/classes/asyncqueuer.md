---
id: AsyncQueuer
title: AsyncQueuer
---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Class: AsyncQueuer\<TFn\>

Defined in: [async-queuer.ts:164](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L164)

A flexible asynchronous queue that processes tasks with configurable concurrency control.

Features:
- Priority queue support via getPriority option
- Configurable concurrency limit
- Task success/error/completion callbacks
- FIFO (First In First Out) or LIFO (Last In First Out) queue behavior
- Pause/resume task processing
- Task cancellation
- Item expiration to clear stale items from the queue

Tasks are processed concurrently up to the configured concurrency limit. When a task completes,
the next pending task is processed if below the concurrency limit.

Error Handling:
- If an `onError` handler is provided, it will be called with the error and queuer instance
- If `throwOnError` is true (default when no onError handler is provided), the error will be thrown
- If `throwOnError` is false (default when onError handler is provided), the error will be swallowed
- Both onError and throwOnError can be used together - the handler will be called before any error is thrown
- The error state can be checked using the underlying AsyncQueuer instance

## Example

```ts
const asyncQueuer = new AsyncQueuer<string>({
  concurrency: 2,
  onSuccess: (result) => {
    console.log(result); // 'Hello'
  }
});

asyncQueuer.addItem(async () => {
  return 'Hello';
});

asyncQueuer.start();
```

## Type Parameters

â€¢ **TFn** *extends* [`AsyncQueuerFn`](../type-aliases/asyncqueuerfn.md)

## Constructors

### new AsyncQueuer()

```ts
new AsyncQueuer<TFn>(initialOptions): AsyncQueuer<TFn>
```

Defined in: [async-queuer.ts:177](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L177)

#### Parameters

##### initialOptions

[`AsyncQueuerOptions`](../interfaces/asyncqueueroptions.md)\<`TFn`\> = `defaultOptions`

#### Returns

[`AsyncQueuer`](asyncqueuer.md)\<`TFn`\>

## Methods

### addItem()

```ts
addItem(
   fn, 
   position, 
   runOnItemsChange): void
```

Defined in: [async-queuer.ts:385](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L385)

Adds a task to the queuer

#### Parameters

##### fn

`TFn`

##### position

[`QueuePosition`](../type-aliases/queueposition.md) = `...`

##### runOnItemsChange

`boolean` = `true`

#### Returns

`void`

***

### clear()

```ts
clear(): void
```

Defined in: [async-queuer.ts:363](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L363)

Removes all items from the queuer

#### Returns

`void`

***

### getActiveItems()

```ts
getActiveItems(): TFn[]
```

Defined in: [async-queuer.ts:505](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L505)

Returns the active items

#### Returns

`TFn`[]

***

### getAllItems()

```ts
getAllItems(): TFn[]
```

Defined in: [async-queuer.ts:498](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L498)

Returns a copy of all items in the queuer

#### Returns

`TFn`[]

***

### getConcurrency()

```ts
getConcurrency(): number
```

Defined in: [async-queuer.ts:217](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L217)

Returns the current concurrency limit

#### Returns

`number`

***

### getErrorCount()

```ts
getErrorCount(): number
```

Defined in: [async-queuer.ts:526](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L526)

Returns the number of items that have failed processing

#### Returns

`number`

***

### getExpirationCount()

```ts
getExpirationCount(): number
```

Defined in: [async-queuer.ts:561](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L561)

Returns the number of items that have expired from the queuer

#### Returns

`number`

***

### getIsEmpty()

```ts
getIsEmpty(): boolean
```

Defined in: [async-queuer.ts:477](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L477)

Returns true if the queuer is empty

#### Returns

`boolean`

***

### getIsFull()

```ts
getIsFull(): boolean
```

Defined in: [async-queuer.ts:484](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L484)

Returns true if the queuer is full

#### Returns

`boolean`

***

### getIsIdle()

```ts
getIsIdle(): boolean
```

Defined in: [async-queuer.ts:554](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L554)

Returns true if the queuer is running but has no items to process

#### Returns

`boolean`

***

### getIsRunning()

```ts
getIsRunning(): boolean
```

Defined in: [async-queuer.ts:547](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L547)

Returns true if the queuer is running

#### Returns

`boolean`

***

### getNextItem()

```ts
getNextItem(position): undefined | TFn
```

Defined in: [async-queuer.ts:444](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L444)

Removes and returns an item from the queuer

#### Parameters

##### position

[`QueuePosition`](../type-aliases/queueposition.md) = `...`

#### Returns

`undefined` \| `TFn`

***

### getOptions()

```ts
getOptions(): AsyncQueuerOptions<TFn>
```

Defined in: [async-queuer.ts:203](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L203)

Returns the current queuer options

#### Returns

[`AsyncQueuerOptions`](../interfaces/asyncqueueroptions.md)\<`TFn`\>

***

### getPeek()

```ts
getPeek(position): undefined | TFn
```

Defined in: [async-queuer.ts:467](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L467)

Returns an item without removing it

#### Parameters

##### position

[`QueuePosition`](../type-aliases/queueposition.md) = `'front'`

#### Returns

`undefined` \| `TFn`

***

### getPendingItems()

```ts
getPendingItems(): TFn[]
```

Defined in: [async-queuer.ts:512](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L512)

Returns the pending items

#### Returns

`TFn`[]

***

### getRejectionCount()

```ts
getRejectionCount(): number
```

Defined in: [async-queuer.ts:540](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L540)

Returns the number of items that have been rejected from the queuer

#### Returns

`number`

***

### getSettledCount()

```ts
getSettledCount(): number
```

Defined in: [async-queuer.ts:533](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L533)

Returns the number of items that have completed processing (success or error)

#### Returns

`number`

***

### getSize()

```ts
getSize(): number
```

Defined in: [async-queuer.ts:491](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L491)

Returns the current size of the queuer

#### Returns

`number`

***

### getSuccessCount()

```ts
getSuccessCount(): number
```

Defined in: [async-queuer.ts:519](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L519)

Returns the number of items that have been successfully processed

#### Returns

`number`

***

### getWait()

```ts
getWait(): number
```

Defined in: [async-queuer.ts:210](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L210)

Returns the current wait time between processing items

#### Returns

`number`

***

### reset()

```ts
reset(withInitialItems?): void
```

Defined in: [async-queuer.ts:371](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L371)

Resets the queuer to its initial state

#### Parameters

##### withInitialItems?

`boolean`

#### Returns

`void`

***

### setOptions()

```ts
setOptions(newOptions): void
```

Defined in: [async-queuer.ts:196](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L196)

Updates the queuer options
Returns the new options state

#### Parameters

##### newOptions

`Partial`\<[`AsyncQueuerOptions`](../interfaces/asyncqueueroptions.md)\<`TFn`\>\>

#### Returns

`void`

***

### start()

```ts
start(): Promise<void>
```

Defined in: [async-queuer.ts:331](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L331)

Starts the queuer and processes items

#### Returns

`Promise`\<`void`\>

***

### stop()

```ts
stop(): void
```

Defined in: [async-queuer.ts:354](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-queuer.ts#L354)

Stops the queuer from processing items

#### Returns

`void`
