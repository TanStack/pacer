---
id: AsyncThrottler
title: AsyncThrottler
---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Class: AsyncThrottler\<TFn\>

Defined in: [async-throttler.ts:105](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L105)

A class that creates an async throttled function.

Throttling limits how often a function can be executed, allowing only one execution within a specified time window.
Unlike debouncing which resets the delay timer on each call, throttling ensures the function executes at a
regular interval regardless of how often it's called.

Unlike the non-async Throttler, this async version supports returning values from the throttled function,
making it ideal for API calls and other async operations where you want the result of the `maybeExecute` call
instead of setting the result on a state variable from within the throttled function.

This is useful for rate-limiting API calls, handling scroll/resize events, or any scenario where you want to
ensure a maximum execution frequency.

Error Handling:
- If an `onError` handler is provided, it will be called with the error and throttler instance
- If `throwOnError` is true (default when no onError handler is provided), the error will be thrown
- If `throwOnError` is false (default when onError handler is provided), the error will be swallowed
- Both onError and throwOnError can be used together - the handler will be called before any error is thrown
- The error state can be checked using the underlying AsyncThrottler instance

## Example

```ts
const throttler = new AsyncThrottler(async (value: string) => {
  const result = await saveToAPI(value);
  return result; // Return value is preserved
}, {
  wait: 1000,
  onError: (error) => {
    console.error('API call failed:', error);
  }
});

// Will only execute once per second no matter how often called
// Returns the API response directly
const result = await throttler.maybeExecute(inputElement.value);
```

## Type Parameters

â€¢ **TFn** *extends* [`AnyAsyncFunction`](../../type-aliases/anyasyncfunction.md)

## Constructors

### new AsyncThrottler()

```ts
new AsyncThrottler<TFn>(fn, initialOptions): AsyncThrottler<TFn>
```

Defined in: [async-throttler.ts:121](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L121)

#### Parameters

##### fn

`TFn`

##### initialOptions

[`AsyncThrottlerOptions`](../../interfaces/asyncthrottleroptions.md)\<`TFn`\>

#### Returns

[`AsyncThrottler`](../asyncthrottler.md)\<`TFn`\>

## Methods

### cancel()

```ts
cancel(): void
```

Defined in: [async-throttler.ts:260](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L260)

Cancels any pending execution or aborts any execution in progress

#### Returns

`void`

***

### getEnabled()

```ts
getEnabled(): boolean
```

Defined in: [async-throttler.ts:154](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L154)

Returns the current enabled state of the throttler

#### Returns

`boolean`

***

### getErrorCount()

```ts
getErrorCount(): number
```

Defined in: [async-throttler.ts:311](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L311)

Returns the number of times the function has errored

#### Returns

`number`

***

### getIsExecuting()

```ts
getIsExecuting(): boolean
```

Defined in: [async-throttler.ts:325](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L325)

Returns the current executing state

#### Returns

`boolean`

***

### getIsPending()

```ts
getIsPending(): boolean
```

Defined in: [async-throttler.ts:318](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L318)

Returns the current pending state

#### Returns

`boolean`

***

### getLastExecutionTime()

```ts
getLastExecutionTime(): number
```

Defined in: [async-throttler.ts:276](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L276)

Returns the last execution time

#### Returns

`number`

***

### getLastResult()

```ts
getLastResult(): undefined | ReturnType<TFn>
```

Defined in: [async-throttler.ts:290](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L290)

Returns the last result of the debounced function

#### Returns

`undefined` \| `ReturnType`\<`TFn`\>

***

### getNextExecutionTime()

```ts
getNextExecutionTime(): number
```

Defined in: [async-throttler.ts:283](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L283)

Returns the next execution time

#### Returns

`number`

***

### getOptions()

```ts
getOptions(): AsyncThrottlerOptions<TFn>
```

Defined in: [async-throttler.ts:147](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L147)

Returns the current options

#### Returns

[`AsyncThrottlerOptions`](../../interfaces/asyncthrottleroptions.md)\<`TFn`\>

***

### getSettleCount()

```ts
getSettleCount(): number
```

Defined in: [async-throttler.ts:304](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L304)

Returns the number of times the function has settled (completed or errored)

#### Returns

`number`

***

### getSuccessCount()

```ts
getSuccessCount(): number
```

Defined in: [async-throttler.ts:297](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L297)

Returns the number of times the function has been executed successfully

#### Returns

`number`

***

### getWait()

```ts
getWait(): number
```

Defined in: [async-throttler.ts:161](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L161)

Returns the current wait time in milliseconds

#### Returns

`number`

***

### maybeExecute()

```ts
maybeExecute(...args): Promise<undefined | ReturnType<TFn>>
```

Defined in: [async-throttler.ts:179](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L179)

Attempts to execute the throttled function.
If a call is already in progress, it may be blocked or queued depending on the `wait` option.

Error Handling:
- If the throttled function throws and no `onError` handler is configured,
  the error will be thrown from this method.
- If an `onError` handler is configured, errors will be caught and passed to the handler,
  and this method will return undefined.
- The error state can be checked using `getErrorCount()` and `getIsExecuting()`.

#### Parameters

##### args

...`Parameters`\<`TFn`\>

#### Returns

`Promise`\<`undefined` \| `ReturnType`\<`TFn`\>\>

A promise that resolves with the function's return value, or undefined if an error occurred and was handled by onError

#### Throws

The error from the throttled function if no onError handler is configured

***

### setOptions()

```ts
setOptions(newOptions): void
```

Defined in: [async-throttler.ts:135](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/async-throttler.ts#L135)

Updates the throttler options

#### Parameters

##### newOptions

`Partial`\<[`AsyncThrottlerOptions`](../../interfaces/asyncthrottleroptions.md)\<`TFn`\>\>

#### Returns

`void`
