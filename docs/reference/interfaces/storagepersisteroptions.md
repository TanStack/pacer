---
id: StoragePersisterOptions
title: StoragePersisterOptions
---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Interface: StoragePersisterOptions\<TState\>

Defined in: [persister.ts:42](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L42)

Configuration options for creating a browser-based state persister.

The persister can use either localStorage (persists across browser sessions) or
sessionStorage (cleared when browser tab/window closes) to store serialized state.

## Type Parameters

â€¢ **TState**

## Properties

### buster?

```ts
optional buster: string;
```

Defined in: [persister.ts:47](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L47)

A version string used to invalidate cached state. When changed, any existing
stored state will be considered invalid and cleared.

***

### deserializer()?

```ts
optional deserializer: (state) => PersistedStorage<TState>;
```

Defined in: [persister.ts:52](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L52)

Optional function to customize how state is deserialized after loading from storage.
By default, JSON.parse is used.

#### Parameters

##### state

`string`

#### Returns

[`PersistedStorage`](../persistedstorage.md)\<`TState`\>

***

### key

```ts
key: string;
```

Defined in: [persister.ts:56](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L56)

Unique identifier used as the storage key for persisting state.

***

### maxAge?

```ts
optional maxAge: number;
```

Defined in: [persister.ts:61](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L61)

Maximum age in milliseconds before stored state is considered expired.
When exceeded, the state will be cleared and treated as if it doesn't exist.

***

### onLoadState()?

```ts
optional onLoadState: (state) => void;
```

Defined in: [persister.ts:65](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L65)

Optional callback that runs after state is successfully loaded.

#### Parameters

##### state

`undefined` | `TState`

#### Returns

`void`

***

### onLoadStateError()?

```ts
optional onLoadStateError: (error) => void;
```

Defined in: [persister.ts:69](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L69)

Optional callback that runs after state is unable to be loaded.

#### Parameters

##### error

`Error`

#### Returns

`void`

***

### onSaveState()?

```ts
optional onSaveState: (state) => void;
```

Defined in: [persister.ts:73](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L73)

Optional callback that runs after state is successfully saved.

#### Parameters

##### state

`TState`

#### Returns

`void`

***

### onSaveStateError()?

```ts
optional onSaveStateError: (error) => void;
```

Defined in: [persister.ts:78](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L78)

Optional callback that runs after state is unable to be saved.
For example, if the storage is full (localStorage >= 5MB)

#### Parameters

##### error

`Error`

#### Returns

`void`

***

### serializer()?

```ts
optional serializer: (state) => string;
```

Defined in: [persister.ts:83](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L83)

Optional function to customize how state is serialized before saving to storage.
By default, JSON.stringify is used.

#### Parameters

##### state

[`PersistedStorage`](../persistedstorage.md)\<`TState`\>

#### Returns

`string`

***

### storage

```ts
storage: Storage;
```

Defined in: [persister.ts:88](https://github.com/TanStack/pacer/blob/main/packages/pacer/src/persister.ts#L88)

The browser storage implementation to use for persisting state.
Typically window.localStorage or window.sessionStorage.
