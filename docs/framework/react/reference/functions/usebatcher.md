---
id: useBatcher
title: useBatcher
---

<!-- DO NOT EDIT: this page is autogenerated from the type comments -->

# Function: useBatcher()

```ts
function useBatcher<TValue, TSelected>(
   fn, 
   options, 
selector?): ReactBatcher<TValue, TSelected>
```

Defined in: [react-pacer/src/batcher/useBatcher.ts:53](https://github.com/TanStack/pacer/blob/main/packages/react-pacer/src/batcher/useBatcher.ts#L53)

A React hook that creates and manages a Batcher instance.

This is a lower-level hook that provides direct access to the Batcher's functionality without
any built-in state management. This allows you to integrate it with any state management solution
you prefer (useState, Redux, Zustand, etc.) by utilizing the onItemsChange callback.

The Batcher collects items and processes them in batches based on configurable conditions:
- Maximum batch size
- Time-based batching (process after X milliseconds)
- Custom batch processing logic via getShouldExecute

## Type Parameters

• **TValue**

• **TSelected** = `BatcherState`\<`TValue`\>

## Parameters

### fn

(`items`) => `void`

### options

`BatcherOptions`\<`TValue`\> = `{}`

### selector?

(`state`) => `TSelected`

## Returns

[`ReactBatcher`](../../interfaces/reactbatcher.md)\<`TValue`, `TSelected`\>

## Example

```tsx
// Example with custom state management and batching
const [items, setItems] = useState([]);

const batcher = useBatcher<number>(
  (items) => console.log('Processing batch:', items),
  {
    maxSize: 5,
    wait: 2000,
    onItemsChange: (batcher) => setItems(batcher.peekAllItems()),
    getShouldExecute: (items) => items.length >= 3
  }
);

// Add items to batch - they'll be processed when conditions are met
batcher.addItem(1);
batcher.addItem(2);
batcher.addItem(3); // Triggers batch processing

// Control the batcher
batcher.stop();  // Pause batching
batcher.start(); // Resume batching
```
