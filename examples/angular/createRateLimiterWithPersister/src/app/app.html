<div>
  <h1>TanStack Pacer - createRateLimiter with Persister</h1>

  <p>
    This example uses <code>createRateLimiter</code> together with the default Pacer context. When a
    persister is configured in the context, the rate limiter state (execution and rejection counts)
    can be kept across reloads.
  </p>

  <h2>Window type</h2>
  <div>
    <label>
      <input
        type="radio"
        name="windowType"
        value="fixed"
        [checked]="windowType() === 'fixed'"
        (change)="setWindowType('fixed')"
      />
      Fixed window
    </label>
    <label>
      <input
        type="radio"
        name="windowType"
        value="sliding"
        [checked]="windowType() === 'sliding'"
        (change)="setWindowType('sliding')"
      />
      Sliding window
    </label>
  </div>

  <h2>Limiter status</h2>
  <div>
    <p>Execution count (selected state): {{ rateLimiter.state().executionCount }}</p>
    <p>Rejection count (selected state): {{ rateLimiter.state().rejectionCount }}</p>
    <p>Remaining in window: {{ rateLimiter.getRemainingInWindow() }}</p>
    <p>Milliseconds until next window: {{ rateLimiter.getMsUntilNextWindow() }}</p>
  </div>

  <h2>Persisted snapshot</h2>
  <div>
    <p>Persisted execution count: {{ persistedExecutionCount() }}</p>
    <p>Persisted rejection count: {{ persistedRejectionCount() }}</p>
  </div>

  <h2>Counters</h2>
  <div>
    <p>Instant count (increments on every click): {{ instantCount() }}</p>
    <p>Rate-limited count (only when limiter allows): {{ limitedCount() }}</p>
  </div>

  <h2>Controls</h2>
  <div>
    <button (click)="increment()">Increment</button>
    <button (click)="resetWindow()">Reset window</button>
  </div>
</div>
